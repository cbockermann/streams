\Processor{WithKeys}

This processor is a process-list. It creates a copy of the current data
item with all attributes matching the list of specified keys. Then all
nested processors are applied to that copy and the copy is merged back
into the original data item.

If any of the nested data items returns \emph{null}, this processor will
also return \emph{null}.

The \texttt{keys} parameter of this processor allows for specifying a
comma separated list of keys and key-patterns using simple wildcards
\texttt{*} and \texttt{?} as shown in Figure \ref{fig:withKeys}. If
the {\ttfamily keys} parameter is not provided, then the inner
processors will be provided with an empty item.

\begin{figure}[h!]
\begin{lstlisting}{lang=xml}
      <process ...>
          <WithKeys keys="x1,user:*,!user:id">
             <PrintData />
          </WithKeys>
      </process>
\end{lstlisting}
\caption{\label{fig:withKeys}Selects only attribute {\ttfamily x1},
  all attributes starting with {\ttfamily user:} but not attribute
  {\ttfamily user:id} and executes the {\ttfamily PrintData} processor
  for this selection of attributes.}
\end{figure}


\begin{table}[h]
\begin{center}{\footnotesize
{\renewcommand{\arraystretch}{1.4}
\textsf{
\begin{tabular}{|c|c|p{9cm}|c|} \hline
\textbf{Parameter} & \textbf{Type} & \textbf{Description} & \textbf{Required} \\ \hline  
{\ttfamily keys } & String[] & A simple filter list of attribute names.  & true \\ \hline
{\ttfamily join } & Boolean & Signals whether the changes made to the data item within the {\ttfamily WithKeys} processor should be merged into the originating item. Defaults to {\em true}. & false \\ \hline
\end{tabular}
 } 
 } 
 } 
\caption{Parameters of class {\ttfamily stream.data.WithKeys}.}
\end{center}
\end{table}
